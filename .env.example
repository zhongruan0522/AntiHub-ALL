# 镜像拉取（默认就是你这个仓库 owner；如果你 fork 了再改）
IMAGE_OWNER=zhongruan0522
IMAGE_TAG=latest

# 宿主机端口映射（给你自己的 Nginx/Caddy/Traefik 去反代用）
WEB_PORT=3000
BACKEND_PORT=8000

# 对外域名（用于 OAuth 回调；改成你的域名）
PUBLIC_URL=http://localhost:3000

# 外部 PostgreSQL（你现成的 PG）
# 注意：容器里访问宿主机服务请优先用 host.docker.internal（本 compose 已配置映射）
DATABASE_URL=postgresql+asyncpg://antihub:please-change-me@host.docker.internal:5432/antihub
PLUGIN_DB_HOST=host.docker.internal
PLUGIN_DB_PORT=5432
PLUGIN_DB_NAME=antigravity
PLUGIN_DB_USER=antigravity
PLUGIN_DB_PASSWORD=please-change-me

# Backend 必配
JWT_SECRET_KEY=please-change-me
PLUGIN_ADMIN_API_KEY=sk-admin-please-change-me
# 必须是 Fernet key（32字节 urlsafe base64），可用 AntiHub-Backend/generate_encryption_key.py 生成
PLUGIN_API_ENCRYPTION_KEY=please-generate-a-valid-fernet-key

# Linux.do OAuth（不使用也要有占位值，否则后端启动会因配置校验失败）
OAUTH_CLIENT_ID=changeme
OAUTH_CLIENT_SECRET=changeme
OAUTH_AUTHORIZATION_ENDPOINT=https://connect.linux.do/oauth2/authorize
OAUTH_TOKEN_ENDPOINT=https://connect.linux.do/oauth2/token
OAUTH_USER_INFO_ENDPOINT=https://connect.linux.do/api/user

# GitHub OAuth（可选，不用就留空）
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# Plugin OAuth（可选）
PLUGIN_OAUTH_CALLBACK_URL=

# Redis（默认使用 compose 自带 redis；如果你有现成的 Redis，可在这里覆盖）
# REDIS_URL=redis://host.docker.internal:6379/0
# PLUGIN_REDIS_HOST=host.docker.internal
# PLUGIN_REDIS_PORT=6379
# PLUGIN_REDIS_PASSWORD=
