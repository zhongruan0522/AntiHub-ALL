接口,作用,实际起什么作用/对接Backend或者前端干了什么
DELETE /api/api-keys/{key_id},删除API密钥,后端:api_keys.delete_api_key；主要调用:-；对接:前端/管理后台
DELETE /api/codex/accounts/{account_id},删除 Codex 账号,后端:codex.delete_codex_account；主要调用:service.delete_account；对接:前端/管理后台
DELETE /api/codex/fallback,清空 CodexCLI 兜底服务配置,后端:codex.delete_codex_fallback_config；主要调用:service.delete_fallback_config；对接:前端/管理后台
DELETE /api/gemini-cli/accounts/{account_id},删除 GeminiCLI 账号,后端:gemini_cli.delete_gemini_cli_account；主要调用:service.delete_account；对接:前端/管理后台
DELETE /api/kiro/accounts/{account_id},删除Kiro账号,后端:kiro.delete_account；主要调用:service.delete_account；对接:前端/管理后台
DELETE /api/plugin-api/accounts/{cookie_id},删除账号,后端:plugin_api.delete_account；主要调用:service.delete_account；对接:前端/管理后台
DELETE /api/qwen/accounts/{account_id},删除 Qwen 账号,后端:qwen.delete_qwen_account；主要调用:service.proxy_request；对接:前端/管理后台
DELETE /api/zai-image/accounts/{account_id},删除 ZAI Image 账号,后端:zai_image.delete_zai_image_account；主要调用:service.delete_account；对接:前端/管理后台
DELETE /api/zai-tts/accounts/{account_id},删除 ZAI TTS 账号,后端:zai_tts.delete_zai_tts_account；主要调用:service.delete_account；对接:前端/管理后台
GET /api/api-keys,获取API密钥列表,后端:api_keys.list_api_keys；主要调用:-；对接:前端/管理后台
GET /api/api-keys/{key_id},获取API密钥详情,后端:api_keys.get_api_key；主要调用:-；对接:前端/管理后台
GET /api/auth/beta-status,获取 Beta 计划状态,后端:auth.get_beta_status；主要调用:user_service.get_user_by_id；对接:前端/管理后台
GET /api/auth/check-username,检查用户名是否存在,后端:auth.check_username；主要调用:user_service.get_user_by_username；对接:前端/管理后台
GET /api/auth/me,获取当前用户信息,后端:auth.get_current_user_info；主要调用:-；对接:前端/管理后台
GET /api/codex/accounts,获取 Codex 账号列表,后端:codex.list_codex_accounts；主要调用:service.list_accounts；对接:前端/管理后台
GET /api/codex/accounts/active,获取当前可用 Codex 账号（fill-first）,后端:codex.get_active_codex_account；主要调用:service.select_active_account；对接:前端/管理后台
GET /api/codex/accounts/{account_id},获取单个 Codex 账号详情,后端:codex.get_codex_account；主要调用:service.get_account；对接:前端/管理后台
GET /api/codex/accounts/{account_id}/credentials,导出 Codex 账号凭证（敏感）,后端:codex.export_codex_account_credentials；主要调用:service.export_account_credentials；对接:前端/管理后台
GET /api/codex/accounts/{account_id}/wham-usage,查询 Codex 限额窗口（wham/usage）,后端:codex.get_codex_wham_usage；主要调用:service.get_account_wham_usage；对接:前端/管理后台
GET /api/codex/fallback,获取 CodexCLI 兜底服务配置,后端:codex.get_codex_fallback_config；主要调用:service.get_fallback_config；对接:前端/管理后台
GET /api/settings/ui-default-channels,获取默认渠道设置（账户管理/消耗日志）,后端:settings.get_ui_default_channels；主要调用:UserSettingRepository.get_by_user_id；对接:前端/管理后台
GET /api/codex/models,获取 Codex 模型列表,后端:codex.list_codex_models；主要调用:service.get_models；对接:前端/管理后台
GET /api/gemini-cli/accounts,获取 GeminiCLI 账号列表,后端:gemini_cli.list_gemini_cli_accounts；主要调用:service.list_accounts；对接:前端/管理后台
GET /api/gemini-cli/accounts/{account_id},获取单个 GeminiCLI 账号详情,后端:gemini_cli.get_gemini_cli_account；主要调用:service.get_account；对接:前端/管理后台
GET /api/gemini-cli/accounts/{account_id}/credentials,导出 GeminiCLI 账号凭证（敏感）,后端:gemini_cli.export_gemini_cli_account_credentials；主要调用:service.export_account_credentials；对接:前端/管理后台
GET /api/gemini-cli/accounts/{account_id}/quota,查询 GeminiCLI 剩余额度（retrieveUserQuota）,后端:gemini_cli.get_gemini_cli_account_quota；主要调用:service.get_account_quota；对接:前端/管理后台
GET /api/health,健康检查,后端:health.health_check；主要调用:-；对接:前端/管理后台
GET /api/kiro/accounts,获取Kiro账号列表,后端:kiro.list_accounts；主要调用:service.get_accounts；对接:前端/管理后台
GET /api/kiro/accounts/{account_id},获取单个Kiro账号,后端:kiro.get_account；主要调用:service.get_account；对接:前端/管理后台
GET /api/kiro/accounts/{account_id}/balance,获取账号余额,后端:kiro.get_account_balance；主要调用:service.get_account_balance；对接:前端/管理后台
GET /api/kiro/accounts/{account_id}/consumption,获取账号消费记录,后端:kiro.get_account_consumption；主要调用:service.get_account_consumption；对接:前端/管理后台
GET /api/kiro/accounts/{account_id}/credentials,导出账号凭证,后端:kiro.get_account_credentials；主要调用:service.get_account_credentials；对接:前端/管理后台
GET /api/kiro/admin/subscription-models,获取订阅层可用模型配置,后端:kiro.get_subscription_model_rules；主要调用:service.get_subscription_model_rules；对接:前端/管理后台
GET /api/kiro/aws-idc/device/status/{state},轮询 Builder ID 设备码登录状态,后端:kiro_aws_idc.get_kiro_builder_id_device_status；主要调用:service.create_account；对接:前端/管理后台
GET /api/kiro/consumption/stats,获取用户总消费统计,后端:kiro.get_user_consumption_stats；主要调用:service.get_user_consumption_stats；对接:前端/管理后台
GET /api/kiro/oauth/status/{state},轮询Kiro OAuth授权状态,后端:kiro.get_oauth_status；主要调用:service.get_oauth_status；对接:前端/管理后台
GET /api/plugin-api/accounts,获取账号列表,后端:plugin_api.get_accounts；主要调用:service.get_accounts；对接:前端/管理后台
GET /api/plugin-api/accounts/{cookie_id},获取账号信息,后端:plugin_api.get_account；主要调用:service.get_account；对接:前端/管理后台
GET /api/plugin-api/accounts/{cookie_id}/credentials,导出账号凭证,后端:plugin_api.get_account_credentials；主要调用:service.get_account_credentials；对接:前端/管理后台
GET /api/plugin-api/accounts/{cookie_id}/detail,获取账号详情,后端:plugin_api.get_account_detail；主要调用:service.get_account_detail；对接:前端/管理后台
GET /api/plugin-api/accounts/{cookie_id}/projects,获取可选 Project 列表,后端:plugin_api.get_account_projects；主要调用:service.get_account_projects；对接:前端/管理后台
GET /api/plugin-api/accounts/{cookie_id}/quotas,获取账号配额,后端:plugin_api.get_account_quotas；主要调用:service.get_account_quotas；对接:前端/管理后台
GET /api/plugin-api/key,获取plug-in API密钥信息,后端:plugin_api.get_api_key_info；主要调用:service.repo.get_by_user_id；对接:前端/管理后台
GET /api/plugin-api/models,获取模型列表,后端:plugin_api.get_models；主要调用:service.get_models；对接:前端/管理后台
GET /api/plugin-api/preference,获取用户信息和Cookie优先级,后端:plugin_api.get_cookie_preference；主要调用:service.get_user_info；对接:前端/管理后台
GET /api/plugin-api/quotas/consumption,获取配额消耗记录,后端:plugin_api.get_quota_consumption；主要调用:service.get_quota_consumption；对接:前端/管理后台
GET /api/plugin-api/quotas/shared-pool,获取共享池配额,后端:plugin_api.get_shared_pool_quotas；主要调用:service.get_shared_pool_quotas；对接:前端/管理后台
GET /api/plugin-api/quotas/user,获取用户配额池,后端:plugin_api.get_user_quotas；主要调用:service.get_user_quotas；对接:前端/管理后台
GET /api/qwen/accounts,获取 Qwen 账号列表,后端:qwen.list_qwen_accounts；主要调用:service.proxy_request；对接:前端/管理后台
GET /api/qwen/accounts/{account_id},获取单个 Qwen 账号,后端:qwen.get_qwen_account；主要调用:service.proxy_request；对接:前端/管理后台
GET /api/qwen/accounts/{account_id}/credentials,导出 Qwen 凭证,后端:qwen.get_qwen_account_credentials；主要调用:service.proxy_request；对接:前端/管理后台
GET /api/qwen/oauth/status/{state},轮询 Qwen OAuth 登录状态,后端:qwen.qwen_oauth_status；主要调用:service.proxy_request；对接:前端/管理后台
GET /api/usage/accounts,获取账号配额,"后端:usage.get_accounts_quotas；主要调用:service.get_accounts,service.get_account_quotas；对接:前端/管理后台"
GET /api/usage/consumption,获取消耗记录,后端:usage.get_consumption；主要调用:service.get_quota_consumption；对接:前端/管理后台
GET /api/usage/quotas,获取配额信息,"后端:usage.get_quotas；主要调用:service.get_user_quotas,service.get_shared_pool_quotas；对接:前端/管理后台"
GET /api/usage/requests/logs,获取请求用量日志,"后端:usage.get_request_usage_logs；主要调用:_parse_iso_datetime,_usage_log_to_dict；对接:前端/管理后台"
GET /api/usage/requests/stats,获取请求用量统计,后端:usage.get_request_usage_stats；主要调用:_parse_iso_datetime；对接:前端/管理后台
GET /api/usage/shared-pool/stats,获取共享池统计信息,"后端:usage.get_shared_pool_stats；主要调用:service.get_accounts,service.get_shared_pool_quotas；对接:前端/管理后台"
GET /api/usage/summary,获取用量摘要,"后端:usage.get_usage_summary；主要调用:service.get_accounts,service.get_user_quotas,service.get_shared_pool_quotas；对接:前端/管理后台"
GET /api/zai-image/accounts,获取 ZAI Image 账号列表,后端:zai_image.list_zai_image_accounts；主要调用:service.list_accounts；对接:前端/管理后台
GET /api/zai-image/accounts/{account_id},获取 ZAI Image 账号详情,后端:zai_image.get_zai_image_account；主要调用:service.repo.get_by_id_and_user_id；对接:前端/管理后台
GET /api/zai-tts/accounts,获取 ZAI TTS 账号列表,后端:zai_tts.list_zai_tts_accounts；主要调用:service.list_accounts；对接:前端/管理后台
GET /api/zai-tts/accounts/{account_id},获取 ZAI TTS 账号详情,后端:zai_tts.get_zai_tts_account；主要调用:service.repo.get_by_id_and_user_id；对接:前端/管理后台
GET /v1/models,获取模型列表,后端:v1.list_models；主要调用:聚合返回模型列表（plug-in-api + kiro + codex + gemini-cli + 本地虚拟模型）；对接:兼容API/外部SDK
PATCH /api/api-keys/{key_id}/status,更新API密钥状态,后端:api_keys.update_api_key_status；主要调用:-；对接:前端/管理后台
POST /api/api-keys,创建API密钥,后端:api_keys.create_api_key；主要调用:-；对接:前端/管理后台
POST /api/auth/join-beta,加入 Beta 计划,"后端:auth.join_beta；主要调用:user_service.get_user_by_id,user_service.join_beta；对接:前端/管理后台"
POST /api/auth/login,用户名密码登录,"后端:auth.login；主要调用:plugin_api_service.repo.exists,plugin_api_service.auto_create_and_bind_plugin_user,auth_service.login；对接:前端/管理后台"
POST /api/auth/logout,用户登出,后端:auth.logout；主要调用:auth_service.logout；对接:前端/管理后台
POST /api/auth/logout-all,登出所有设备,后端:auth.logout_all_devices；主要调用:auth_service.logout_all_devices；对接:前端/管理后台
POST /api/auth/refresh,刷新访问令牌,后端:auth.refresh_token；主要调用:auth_service.refresh_tokens；对接:前端/管理后台
POST /api/codex/accounts/import,导入 Codex 凭证 JSON 并落库,后端:codex.import_codex_account；主要调用:service.import_account；对接:前端/管理后台
POST /api/codex/accounts/{account_id}/refresh,从官方刷新 Codex 账号额度/限额（落库）,后端:codex.refresh_codex_account；主要调用:service.refresh_account_official；对接:前端/管理后台
POST /api/codex/oauth/authorize,生成 Codex OAuth 登录链接,后端:codex.codex_oauth_authorize；主要调用:service.create_oauth_authorize_url；对接:前端/管理后台
POST /api/codex/oauth/callback,提交 Codex OAuth 回调 URL 并落库,后端:codex.codex_oauth_callback；主要调用:service.submit_oauth_callback；对接:前端/管理后台
POST /api/gemini-cli/accounts/import,导入 GeminiCLI 凭证 JSON 并落库,后端:gemini_cli.import_gemini_cli_account；主要调用:service.import_account；对接:前端/管理后台
POST /api/gemini-cli/oauth/authorize,生成 GeminiCLI OAuth 登录链接,后端:gemini_cli.gemini_cli_oauth_authorize；主要调用:service.create_oauth_authorize_url；对接:前端/管理后台
POST /api/gemini-cli/oauth/callback,提交 GeminiCLI OAuth 回调 URL 并落库,后端:gemini_cli.gemini_cli_oauth_callback；主要调用:service.submit_oauth_callback；对接:前端/管理后台
POST /api/kiro/accounts,创建Kiro账号,后端:kiro.create_account；主要调用:service.create_account；对接:前端/管理后台
POST /api/kiro/aws-idc/device/authorize,发起 Builder ID 设备码登录,"后端:kiro_aws_idc.start_kiro_builder_id_device_flow；主要调用:_validate_is_shared,_normalize_aws_region,_aws_oidc_base_url；对接:前端/管理后台"
POST /api/kiro/aws-idc/import,导入 Kiro Builder ID（IdC）本地凭据,后端:kiro_aws_idc.import_kiro_aws_idc_credentials；主要调用:service.create_account；对接:前端/管理后台
POST /api/kiro/oauth/authorize,获取Kiro OAuth授权URL,后端:kiro.get_oauth_authorize_url；主要调用:service.get_oauth_authorize_url；对接:前端/管理后台
POST /api/kiro/oauth/callback,提交 Kiro OAuth 回调 (AntiHook),后端:kiro.submit_oauth_callback；主要调用:service.submit_oauth_callback；对接:前端/管理后台
POST /api/plugin-api/accounts/import,通过 Refresh Token 导入账号,后端:plugin_api.import_account；主要调用:service.import_account_by_refresh_token；对接:前端/管理后台
POST /api/plugin-api/accounts/{cookie_id}/refresh,刷新账号,后端:plugin_api.refresh_account；主要调用:service.refresh_account；对接:前端/管理后台
POST /api/plugin-api/chat/completions,聊天补全,"后端:plugin_api.chat_completions；主要调用:service.proxy_request,service.proxy_stream_request；对接:前端/管理后台"
POST /api/plugin-api/oauth/authorize,获取OAuth授权URL,后端:plugin_api.get_oauth_authorize_url；主要调用:service.get_oauth_authorize_url；对接:前端/管理后台
POST /api/plugin-api/oauth/callback,提交OAuth回调,后端:plugin_api.submit_oauth_callback；主要调用:service.submit_oauth_callback；对接:前端/管理后台
POST /api/plugin-api/v1beta/models/{model}:generateContent,图片生成,后端:plugin_api.generate_content；主要调用:service.generate_content；对接:前端/管理后台
POST /api/qwen/accounts/import,导入 QwenCli JSON,后端:qwen.import_qwen_account；主要调用:service.proxy_request；对接:前端/管理后台
POST /api/qwen/oauth/authorize,生成 Qwen OAuth 登录链接,后端:qwen.qwen_oauth_authorize；主要调用:service.proxy_request；对接:前端/管理后台
POST /api/zai-image/accounts,创建 ZAI Image 账号,后端:zai_image.create_zai_image_account；主要调用:service.create_account；对接:前端/管理后台
POST /api/zai-tts/accounts,创建 ZAI TTS 账号,后端:zai_tts.create_zai_tts_account；主要调用:service.create_account；对接:前端/管理后台
POST /cc/v1/messages,创建消息（Claude Code兼容）,后端:anthropic.create_message_cc；主要调用:Anthropic Messages -> OpenAI 转换；antigravity_service/kiro_service/qwen 分流；支持SSE；/cc 端点会缓冲SSE写usage；对接:兼容API/外部SDK
POST /cc/v1/messages/count_tokens,计算Token数量（Claude Code兼容）,后端:anthropic.count_tokens；主要调用:-；对接:兼容API/外部SDK
POST /v1/audio/speech,OpenAI 兼容 TTS,"后端:v1.audio_speech；主要调用:zai_tts_service.generate_file,zai_tts_service.select_active_account,zai_tts_service.stream_audio；对接:兼容API/外部SDK"
POST /v1/chat/completions,聊天补全,"后端:v1.chat_completions；主要调用:antigravity_service(plug-in-api)/kiro_service/gemini_cli_service/codex(分流),UsageLogService(落库)；对接:兼容API/外部SDK"
POST /v1/images/generations,图片生成（OpenAI 兼容）,"后端:v1.image_generations；主要调用:zai_image_service.generate_image,zai_image_service.select_active_account,zai_image_service.fetch_image_base64；对接:兼容API/外部SDK"
POST /v1/messages,创建消息,后端:anthropic.create_message；主要调用:Anthropic Messages -> OpenAI 转换；antigravity_service/kiro_service/qwen 分流；支持SSE；/cc 端点会缓冲SSE写usage；对接:兼容API/外部SDK
POST /v1/messages/count_tokens,计算Token数量,后端:anthropic.count_tokens；主要调用:-；对接:兼容API/外部SDK
POST /v1/responses,Responses API（兼容）,后端:v1.responses；主要调用:Responses->ChatCompletions 兼容转换；codex_service/kiro_service/antigravity_service 分流；UsageLogService 记录；对接:兼容API/外部SDK
POST /v1/responses/compact,Responses Compact API（兼容）,后端:v1.responses_compact；主要调用:codex_service.execute_codex_responses_compact；UsageLogService 记录；对接:兼容API/外部SDK
POST /v1beta/models/{model}:generateContent,Gemini v1beta generateContent,后端:gemini.generate_content；主要调用:gemini-cli 文本代理 或 本地ZAI图片生成；UsageLogService 记录；对接:兼容API/外部SDK
POST /v1beta/models/{model}:streamGenerateContent,Gemini v1beta streamGenerateContent,后端:gemini.stream_generate_content；主要调用:gemini-cli 流式代理 或 本地ZAI图片流；UsageLogService 记录；对接:兼容API/外部SDK
PUT /api/codex/accounts/{account_id}/limits,手动更新 Codex 账号限额（5小时/周限）,后端:codex.update_codex_account_limits；主要调用:service.update_account_limits；对接:前端/管理后台
PUT /api/codex/accounts/{account_id}/name,更新 Codex 账号名称,后端:codex.update_codex_account_name；主要调用:service.update_account_name；对接:前端/管理后台
PUT /api/codex/accounts/{account_id}/quota,手动更新 Codex 账号剩余额度（落库）,后端:codex.update_codex_account_quota；主要调用:service.update_account_quota；对接:前端/管理后台
PUT /api/codex/accounts/{account_id}/status,启用/禁用 Codex 账号,后端:codex.update_codex_account_status；主要调用:service.update_account_status；对接:前端/管理后台
PUT /api/codex/fallback,保存 CodexCLI 兜底服务配置,后端:codex.upsert_codex_fallback_config；主要调用:service.upsert_fallback_config；对接:前端/管理后台
PUT /api/settings/ui-default-channels,保存默认渠道设置（账户管理/消耗日志）,后端:settings.upsert_ui_default_channels；主要调用:UserSettingRepository.update/create；对接:前端/管理后台
PUT /api/gemini-cli/accounts/{account_id}/name,更新 GeminiCLI 账号名称,后端:gemini_cli.update_gemini_cli_account_name；主要调用:service.update_account_name；对接:前端/管理后台
PUT /api/gemini-cli/accounts/{account_id}/project,更新 GeminiCLI 账号 GCP Project ID,后端:gemini_cli.update_gemini_cli_account_project；主要调用:service.update_account_project；对接:前端/管理后台
PUT /api/gemini-cli/accounts/{account_id}/status,启用/禁用 GeminiCLI 账号,后端:gemini_cli.update_gemini_cli_account_status；主要调用:service.update_account_status；对接:前端/管理后台
PUT /api/kiro/accounts/{account_id}/name,更新账号名称,后端:kiro.update_account_name；主要调用:service.update_account_name；对接:前端/管理后台
PUT /api/kiro/accounts/{account_id}/status,更新账号状态,后端:kiro.update_account_status；主要调用:service.update_account_status；对接:前端/管理后台
PUT /api/kiro/admin/subscription-models,设置订阅层可用模型配置,后端:kiro.upsert_subscription_model_rule；主要调用:service.upsert_subscription_model_rule；对接:前端/管理后台
PUT /api/plugin-api/accounts/{cookie_id}/name,更新账号名称,后端:plugin_api.update_account_name；主要调用:service.update_account_name；对接:前端/管理后台
PUT /api/plugin-api/accounts/{cookie_id}/project-id,更新账号 Project ID,后端:plugin_api.update_account_project_id；主要调用:service.update_account_project_id；对接:前端/管理后台
PUT /api/plugin-api/accounts/{cookie_id}/quotas/{model_name}/status,更新模型配额状态,后端:plugin_api.update_model_quota_status；主要调用:service.update_model_quota_status；对接:前端/管理后台
PUT /api/plugin-api/accounts/{cookie_id}/status,更新账号状态,后端:plugin_api.update_account_status；主要调用:service.update_account_status；对接:前端/管理后台
PUT /api/plugin-api/accounts/{cookie_id}/type,转换账号类型,后端:plugin_api.update_account_type；主要调用:service.update_account_type；对接:前端/管理后台
PUT /api/plugin-api/preference,更新Cookie优先级,"后端:plugin_api.update_cookie_preference；主要调用:service.repo.get_by_user_id,service.update_cookie_preference；对接:前端/管理后台"
PUT /api/qwen/accounts/{account_id}/name,更新 Qwen 账号名称,后端:qwen.update_qwen_account_name；主要调用:service.proxy_request；对接:前端/管理后台
PUT /api/qwen/accounts/{account_id}/status,更新 Qwen 账号状态,后端:qwen.update_qwen_account_status；主要调用:service.proxy_request；对接:前端/管理后台
PUT /api/zai-image/accounts/{account_id}/credentials,更新 ZAI Image 账号 Token,后端:zai_image.update_zai_image_account_credentials；主要调用:service.update_credentials；对接:前端/管理后台
PUT /api/zai-image/accounts/{account_id}/name,更新 ZAI Image 账号名称,后端:zai_image.update_zai_image_account_name；主要调用:service.update_name；对接:前端/管理后台
PUT /api/zai-image/accounts/{account_id}/status,更新 ZAI Image 账号状态,后端:zai_image.update_zai_image_account_status；主要调用:service.update_status；对接:前端/管理后台
PUT /api/zai-tts/accounts/{account_id}/credentials,更新 ZAI TTS 账号配置,后端:zai_tts.update_zai_tts_account_credentials；主要调用:service.update_credentials；对接:前端/管理后台
PUT /api/zai-tts/accounts/{account_id}/name,更新 ZAI TTS 账号名称,后端:zai_tts.update_zai_tts_account_name；主要调用:service.update_name；对接:前端/管理后台
PUT /api/zai-tts/accounts/{account_id}/status,更新 ZAI TTS 账号状态,后端:zai_tts.update_zai_tts_account_status；主要调用:service.update_status；对接:前端/管理后台
GET /,根路径,后端:app.main.root；主要调用:-；对接:杂项（探活/最小可用）
GET /api/docs,Swagger 文档(仅开发环境),FastAPI docs_url（settings.is_development=true 才启用）
GET /api/redoc,ReDoc 文档(仅开发环境),FastAPI redoc_url（settings.is_development=true 才启用）
GET /api/openapi.json,OpenAPI JSON(仅开发环境),FastAPI openapi_url（settings.is_development=true 才启用）
